"use strict";(self.webpackChunksimpleapp=self.webpackChunksimpleapp||[]).push([[616],{1616:(e,t,n)=>{n.d(t,{V:()=>D,f:()=>V});var i=n(6540),r=n(7388),o=n(8035),s=n(280),a=n(2391),h=e=>{var{opacity:t=.8,filter:n=""}=e;return{position:"relative",fontSize:0,overflow:"visible",opacity:t,filter:n}},l=e=>{var{}=e;return{}},c=e=>e?"polygon(0% 0%, 100% 0%, 0% 25%, 0% 100%, 100% 100%, 0% 75%)":"polygon(0 0,0 100%,100% 100%,50% 100%,0% 50%,50% 0%)",d=e=>e?"polygon(100% 0%, 0% 0%, 100% 25%, 100% 100%, 0% 100%, 100% 75%)":"polygon(100% 50%,100% 100%,50% 100%,100% 50%,50% 0%, 100% 0%)",u=e=>e?"polygon(100% 0%, 100% 100%, 0% 75%, 0% 25%)":"polygon(50% 0%, 100% 0%, 100% 100%, 50% 100%, 0% 50%)",p=e=>e?"polygon(0% 0%, 100% 25%, 100% 75%, 0% 100%)":"polygon(0% 0%, 50% 0%, 100% 50%, 50% 100%, 0% 100%)",_=(e,t,n,i,r)=>{var o=n?"string"==typeof n?n:"":"calc(".concat(100,"%)"),s=i?"string"==typeof i?i:"":"calc(".concat(50,"%)");return{position:"relative",shapeOutside:t?c(e):d(e),clipPath:t?r&&u(e):r&&p(e),shapeMargin:"5%",float:t?"left":"right",height:o,width:s}},v={position:"relative",top:0,width:"100%",height:"calc(100%)"},g={position:"relative",width:"100%",display:"block",height:"calc(100%)"},f={position:"absolute",height:"calc(100%)",width:"100%",top:0},x={position:"relative",height:"100%",margin:0},b={position:"relative",margin:0,padding:0,height:"100%",top:0},y=n(4848),m=["args","element","svgStyle","useVerticalAlignment","hex_shape_height_override","hex_shape_width_override","_background","_background_attached","_background_size"];function w(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)}return n}function j(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?w(Object(n),!0).forEach(function(t){k(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):w(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function k(e,t,n){return(t=function(e){var t=function(e){if("object"!=typeof e||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var O=e=>{var{styles:t,usePointedTop:n,children:r}=e,{usePointedTop:o}=(0,i.useContext)(P),s=n||o||!1;return(0,y.jsx)("svg",{style:l(t),viewBox:s?"".concat(100-200*Math.sqrt(3)/4," -100 ").concat(200*Math.sqrt(3)/2," 200"):"0 -".concat(200*Math.sqrt(3)/4," 200 ").concat(200*Math.sqrt(3)/2),xmlns:"http://www.w3.org/2000/svg",children:r})},P=(0,i.createContext)({}),C=e=>{var{styles:t}=e,{construct:n}=(0,i.useContext)(P),{defs:r,paths:o}=n();return(0,y.jsxs)(O,{styles:j({},t),children:[(0,y.jsx)("defs",{children:(0,y.jsx)(s.T5,{elements:r})}),(0,y.jsx)(s.T5,{elements:o})]})},z=e=>{var{children:t}=e,{setContentRef:n}=(0,i.useContext)(P);return(0,y.jsx)("div",{ref:n,children:(0,y.jsx)("div",{style:x,children:t})})},T=e=>{var{element:t,useVerticalAlignment:n}=e,i=Array.isArray(t)||n?z:s._n,r=Array.isArray(t)?(0,y.jsx)(s.jg,{element:t}):(0,s.JO)(t),o=Array.isArray(t)?A:s._n;return(0,y.jsx)(i,{children:(0,y.jsx)(o,{children:r})})},A=e=>{var{children:t}=e;return(0,y.jsx)("div",{style:j(j({},b),{},{fontSize:"calc(max(".concat((0,i.useContext)(P).font_size,"vw,1px))")}),children:t})},S=e=>{var{hex_shape_height_override:t,hex_shape_width_override:n}=e,{usePointedTop:r}=(0,i.useContext)(P);return(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)("div",{style:_(r,!0,t,n)}),(0,y.jsx)("div",{style:_(r,!1,t,n)})]})},L=e=>{var{background:t,_background_size:n="100vw 200vh",left:o=0,top:s=0,isContained:a=!1}=e,h=(0,i.useRef)(null),[l,c]=(0,i.useState)("0 0"),{usePointedTop:d}=(0,i.useContext)(P);return(0,i.useLayoutEffect)(()=>{var e=()=>{if(h.current){var e=h.current.getBoundingClientRect(),t=-e.top+s-+a*window.scrollY,n=-e.left+o-+a*window.scrollX,i="calc(".concat(n,"px) calc(").concat(t,"px + ").concat(a?r.N:0,"vh)");c(i)}};return e(),window.addEventListener("scroll",e),window.addEventListener("resize",e),()=>{window.removeEventListener("scroll",e),window.removeEventListener("resize",e)}},[a]),(0,y.jsx)("div",{ref:h,style:{position:"absolute",height:"100%",clipPath:d?R:M,background:t,backgroundSize:n,backgroundPosition:l,backgroundAttachment:"fixed",width:"100%"}})},M="polygon(0% 50%, 25% 0%, 75% 0%, 100% 50%,75% 100%, 25% 100% )",R="polygon(0% 25%, 50% 0%, 100% 25%, 100% 75%, 50% 100%, 0% 75% )",E=e=>{var{element:t,_background:n,useVerticalAlignment:r,hex_shape_height_override:o,hex_shape_width_override:s,_background_attached:a,_background_size:h}=e,{container_height:l,content_height:c,setContainerRef:d}=(0,i.useContext)(P);return t&&(0,y.jsxs)("div",{style:j({},f),ref:d,children:[n&&(0,y.jsx)(L,{background:n,isContained:a,_background_size:h}),(0,y.jsxs)("div",{style:j({},g),children:[(0,y.jsx)(S,{hex_shape_height_override:o,hex_shape_width_override:s}),(0,y.jsx)("div",{style:j(j({},v),{},{paddingTop:r?"calc(".concat((l-c)/2,"px)"):0}),children:(0,y.jsx)(T,{element:t,useVerticalAlignment:r})})]})]})};class D extends i.Component{get font_size(){return 2.5}get container_height(){return this.container_node?this.container_node.clientHeight:400}get content_height(){var e;return null!==(e=this.state.content_height)&&void 0!==e?e:0}get oscillations(){var e;return null!==(e=this._oscillations)&&void 0!==e?e:0}set oscillations(e){var t;this._oscillations=(null!==(t=this._oscillations)&&void 0!==t?t:0)+e}get hex_state(){return{setContainerRef:this.setContainerRef,setContentRef:this.setContentRef,container_height:this.container_height,content_height:this.content_height,usePointedTop:this.usePointedTop,font_size:this.state.font_size,construct:this.construct.bind(this)}}constructor(e){super(e),k(this,"n_updates",0),k(this,"container_node",null),k(this,"content_node",null),k(this,"content_observer",null),k(this,"_oscillations",void 0),k(this,"setContainerRef",e=>{this.container_node=e}),k(this,"setContentRef",e=>{this.content_node=e}),k(this,"nudgeHeight",e=>{var t=this.content_height-e,n=this.oscillations%2*2-1;return e+t*+!!this.oscillations+n*this.oscillations*+!!t}),k(this,"observerCallback",e=>{var t=e[0];if(t){var n=this.nudgeHeight(t.contentRect.height);this.updateGuard(n),this.oscillations+=1}}),this.setOrientation(),this.state=D.starting_state}santiseOptionalParameters(){var{args:e}=this.props,t={},n=(t,n)=>"function"==typeof t?t(e,n):t;for(var i of this.getDefaultAssignments()){var{key:r,alias:o,return_value:s,f_params:a}=i,h=n(s,a);t[o||r]=(null==e?void 0:e[r])||h}return t}getDefaultAssignments(){return[{key:"borderWidth",return_value:e=>(null==e?void 0:e.borderColour)&&"2px"},{key:"colour",alias:"color",return_value:"#003845"},{key:"borderColour",alias:"borderColor",return_value:void 0}]}componentWillUnmount(){this.content_observer&&this.content_observer.disconnect()}componentDidMount(){this.setState({container_height:this.container_height}),this.content_node&&(this.content_observer=new ResizeObserver(this.observerCallback),this.content_observer.observe(this.content_node))}componentDidUpdate(){this.n_updates+=1,this.n_updates/D.max_osc<this.oscillations&&(this._oscillations=void 0)}construct(){var{color:e,borderColor:t,borderWidth:n}=this.santiseOptionalParameters(),i=void 0===this.props._background?e:"transparent";return{defs:o.G_?[]:[(0,y.jsx)("mask",{id:"hexagon",children:(0,y.jsx)("path",{d:this.hex_path,fill:"white"})})],paths:[(0,y.jsx)("path",{d:this.hex_path,mask:o.G_?"":"url(#hexagon)",fill:i,stroke:t,strokeWidth:n})]}}render(){var e=this.props,{args:t,element:n,svgStyle:i={},useVerticalAlignment:r=!1,hex_shape_height_override:o,hex_shape_width_override:s,_background:a,_background_attached:l=!1,_background_size:c="100vw 150vh"}=e,d=function(e,t){if(null==e)return{};var n,i,r=function(e,t){if(null==e)return{};var n={};for(var i in e)if({}.hasOwnProperty.call(e,i)){if(-1!==t.indexOf(i))continue;n[i]=e[i]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}(e,m);return(0,y.jsx)(P,{value:this.hex_state,children:(0,y.jsxs)("div",{style:h(d),children:[(0,y.jsx)(C,{styles:i}),(0,y.jsx)(E,{element:n,_background:a,_background_attached:l,_background_size:c,useVerticalAlignment:r,hex_shape_height_override:o,hex_shape_width_override:s})]})})}setOrientation(){var e,t=this.constructor;this.usePointedTop=null!==(e=this.props.usePointedTop)&&void 0!==e?e:t.usePointedTop,this.hex_path=this.usePointedTop?t.alt_hex_path:t.default_hex_path}updateGuard(e){this.setState({content_height:e})}}k(D,"usePointedTop",a.Ks),k(D,"default_hex_path",a.b_),k(D,"alt_hex_path",a.J0),k(D,"starting_state",a.$9),k(D,"max_osc",a.Ox);class V extends D{}k(V,"usePointedTop",!0)},2391:(e,t,n)=>{n.d(t,{$9:()=>l,J0:()=>r,Ks:()=>d,Ox:()=>c,Su:()=>a,ZU:()=>s,_s:()=>h,b_:()=>i,iU:()=>o});var i="M 50 86.6025 l 100 0 l 50 -86.6025 l -50 -86.6025 l -100 0 l -50 86.6025 Z",r="M 13.3975 -50 l 0 100 l 86.6025 50 l 86.6025 -50 l -0 -100 l -86.6025 -50 Z",o="M 25 86.6025 l 50 -86.6025 l -50 -86.6025 h 25 l 50 86.6025 l -50 86.6025 Z",s="M 37.8305 -96.7441 L 93.4715 -0.224 L 37.0735 100.4596 L 185.8279 111.8149 L 233.1417 -14.9859 L 191.8841 -96.7441 Z",a="M -21.0101 0.0202 L 15.8088 -105.7362 L 89.4466 -0.3715 L 25.2093 85.8005 L -21.2164 0.1027 Z",h="M 95 0 v 5 h120 v -10 h-120 v5",l={content_height:void 0,container_height:0,font_size:2.5},c=10,d=!1}}]);
//# sourceMappingURL=616.bundle.js.map