{"version":3,"file":"59.bundle.js","mappings":"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","sources":["webpack://simpleapp/./src/pages/dpo-tool/tool.tsx"],"sourcesContent":["// src/pages/dpo-tool/tool.tsx\n\nimport type { Element } from \"hast\";\nimport React, {\n\tCSSProperties,\n\tHTMLAttributes,\n\tReactNode,\n\tuseMemo,\n\tuseState,\n} from \"react\";\nimport type { Components } from \"react-markdown\";\nimport ReactMarkdown from \"react-markdown\";\nimport { Page } from \"../../features/page/Page\";\n// import { logo_blue, logo_yellow } from \"../../utils/defaultColours\";\nimport { generateGradient } from \"../../styles\";\n\nconst rawMarkdown = `\n#### 1. Personal Information We Collect\n\nPersonal information typically means information that identifies or is reasonably capable of identifying an individual, directly or indirectly, and information that relates to, describes, is reasonably capable of being associated with or could reasonably be linked to an identified or reasonably identifiable individual. For the purposes of this Privacy Policy, only the definition of personal information from the applicable law of your legal residence will apply to you and be deemed your “Personal Information.”\n\nA. Personal Information we collect from you\n\nWe may collect the following categories of Personal Information directly from you:\n\n* Identification Information, such as name, email, date of birth, phone number, postal address, and/or government-issued identity documents;\n* Commercial Information, such as trading activity, order activity, deposits, withdrawals, account balances;\n* Financial Information, such as bank account information, routing number, or other financial account information;\n* Correspondence, such as information that you provide to us in correspondence, including account opening and customer support;\n* Audio, Electronic, Visual, Thermal, Olfactory, or Similar Information, such as images and video collected for identity verification, audio recordings left on answering machines;\n* Biometric Information, such as scans of your face geometry extracted from identity documents; \n<!-- Unique Property: The privacy policy affirms that it collects Biometric Information, such as scans of face geometry extracted from identity documents -->\n* Professional or Employment-related Information, such as job title, source of wealth;\n* Institutional Information, such as for institutional customers, we may collect additional information, including: institution’s legal name, Employer Identification Number (“EIN”) or any comparable identification number issued by a government, and proof of legal existence (which may include articles of incorporation, certificate of formation, business license, trust instrument, or other comparable legal document); and\n* Sensitive Personal Information, such as government-issued identification numbers (which may include Social Security Number or equivalent, driver’s license number, passport number) and financial account information.\n* Preferences, such as settings and preferences you select in the Gemini app.\n* Communications, such as survey responses, information provided to our Customer Support team, including communications with interfaces such as chatbots.\n* Referral information, such as your contacts’ phone or email addresses if you choose to invite those contacts to Gemini.\n\nB. Personal Information we collect automatically\n\nWe may collect the following categories of Personal Information automatically through your use of our services:\n\n* Online Identifiers, such as IP address; domain name, geographic location;\n<!-- Shared with Policy OpenAI: The privacy policy affirms that Log Data, including a user's IP address, browser type, and the date and time of a request, is automatically collected -->\n* Device Information, such as hardware, operating system, browser, screen size; and\n* Usage Data, such as system activity, internal and external information related to Gemini pages that you visit, clickstream information, keystrokes, mouse movements, form field entries, recordings of chat sessions or your use of and inputs to other AI-supported tools, and other use and overall engagement with our Services.\n<!-- Unique Property: the privacy policy affirm that its automatic collection of Usage Data includes keystrokes, mouse movements, and form field entries -->\n\n\nOur automatic collection of Personal Information may involve the use of Cookies and other tracking technologies, described in greater detail below.\n\nC. Personal Information we collect from third parties\n\nWe may collect and/or verify the following categories of Personal Information about you from Third Parties:\n\n* Identification Information, such as name, email, phone number, postal address;\n* Financial Information, such as bank account information, routing number. When you use third party services (for example, when you connect your Gemini account to your bank account) or websites that are linked through our Services, the providers of those services or products may receive information that Gemini, you, or others share with them. Those third party services are not governed by this Privacy Policy, and their own terms and privacy policies will apply to those products and services;\n* Transaction Information, such as public blockchain data (bitcoin, ether, and other digital assets are not truly anonymous). We, and any others who can match your public Digital Asset address to other Personal Information about you, may be able to identify you from a blockchain transaction because, in some circumstances, Personal Information published on a blockchain (such as your Digital Asset address and IP address) can be correlated with Personal Information that we and others may have. Furthermore, by using data analysis techniques on a given blockchain, it may be possible to identify other Personal Information about you;\n<!-- Shared with Policy OpenAI: The privacy policy affirms that Account Information, including name, contact details, payment information, and transaction history, is collected when a user creates an account -->\n* Credit and Fraud Information, such as credit investigation, credit eligibility, identity or account verification, fraud detection, or as may otherwise be required by applicable law;\n<!-- Shared with Policy Anthropic: The privacy policy affirms that it receives information from security partners to protect against fraud and abuse -->\n* Sensitive Personal Information, such as government identification numbers (which may include Social Security Number or equivalent, driver’s license number, passport number) and financial account information and\n* Additional Information, as permitted by law or required to comply with legal obligations, which may include criminal records or alleged criminal activity, or information about any person or corporation with whom you have had, currently have, or may have a financial relationship.\n\nPersonal Information you provide during the registration process may be retained, even if your registration is left incomplete or abandoned. \n<!-- Unique Property: The privacy policy affirms that personal information provided during the registration process may be retained even if the registration is incomplete or abandoned -->\n\n\nD. Combination of Personal information\n\nPlease note that we may combine Personal Information that we receive from various sources. For example, we may combine Personal Information that we receive from third parties with Personal Information we already have about you. We use, disclose, and protect combined Personal Information as described in this Privacy Policy.\n\nPlease also note that we may de-identify or aggregate Personal Information so that it will no longer be considered Personal Information and disclose such information to other parties for purposes consistent with those described in this Privacy Policy.\n`;\n\n// --- TYPES ---\ninterface Property {\n\tid: string;\n\ttext: string;\n\ttype: \"unique\" | \"shared\";\n\tsharedWith?: string;\n}\ntype SharedPropertiesGroup = Record<string, Property[]>;\ninterface ElementProps extends HTMLAttributes<HTMLElement> {\n\tnode?: Element;\n\tchildren?: ReactNode;\n}\n\n// --- HELPER FUNCTION TO PARSE THE MARKDOWN ---\nconst parseMarkdownForProperties = (markdown: string) => {\n\tconst uniqueProperties: Property[] = [];\n\tconst sharedProperties: Property[] = [];\n\tlet uniqueCounter = 0;\n\tlet sharedCounter = 0;\n\tconst lines = markdown.split(\"\\n\");\n\tconst processedLines: string[] = [];\n\tconst commentRegex =\n\t\t/<!--\\s*(Unique Property|Shared with (Policy [^:]+)):\\s*(.*?)\\s*-->/;\n\n\tfor (const line of lines) {\n\t\tconst match = line.match(commentRegex);\n\t\tif (match && match[3] !== undefined) {\n\t\t\tconst type = match[1];\n\t\t\tconst text = match[3].trim();\n\t\t\tlet newProperty: Property;\n\n\t\t\tif (type === \"Unique Property\") {\n\t\t\t\tconst id = `unique-${uniqueCounter++}`;\n\t\t\t\tnewProperty = { id, text, type: \"unique\" };\n\t\t\t\tuniqueProperties.push(newProperty);\n\t\t\t} else {\n\t\t\t\tconst sharedWith = match[2];\n\t\t\t\tconst id = `shared-${sharedCounter++}`;\n\t\t\t\tnewProperty = { id, text, type: \"shared\", sharedWith };\n\t\t\t\tsharedProperties.push(newProperty);\n\t\t\t}\n\n\t\t\tfor (let j = processedLines.length - 1; j >= 0; j--) {\n\t\t\t\tif (processedLines[j]?.trim() !== \"\") {\n\t\t\t\t\tprocessedLines[j] = processedLines[j]!.replace(\n\t\t\t\t\t\t/** why the strictness necessary here */\n\t\t\t\t\t\t/(\\s*[-*]?\\s*)(.*)/,\n\t\t\t\t\t\t`$1|||ID:${newProperty.id}|||$2`\n\t\t\t\t\t);\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t} else {\n\t\t\tprocessedLines.push(line);\n\t\t}\n\t}\n\n\tconst groupedSharedProperties =\n\t\tsharedProperties.reduce<SharedPropertiesGroup>((acc, prop) => {\n\t\t\tconst key = prop.sharedWith || \"Unknown\";\n\t\t\tif (!acc[key]) acc[key] = [];\n\t\t\tacc[key].push(prop);\n\t\t\treturn acc;\n\t\t}, {});\n\n\treturn {\n\t\tuniqueProperties,\n\t\tgroupedSharedProperties,\n\t\tprocessedMarkdown: processedLines.join(\"\\n\"),\n\t};\n};\n\n// --- STYLES OBJECT ---\nconst styles: Record<string, CSSProperties> = {\n\tpropertiesSection: {\n\t\tborder: \"1px solid #e0e0e0\",\n\t\tpadding: \"1rem\",\n\t\tmarginBottom: \"2rem\",\n\t\tborderRadius: \"8px\",\n\t\tbackgroundColor: \"#f9f9f9\",\n\t},\n\theader: {\n\t\tmarginTop: 0,\n\t\tcolor: \"#1a1a1a\",\n\t},\n\tlist: {\n\t\tlistStyleType: \"none\",\n\t\tpaddingLeft: 0,\n\t},\n\tlistItem: {\n\t\tpadding: \"0.75rem\",\n\t\tborderRadius: \"4px\",\n\t\ttransition: \"background-color 0.2s ease-in-out\",\n\t\tborder: \"1px solid #ddd\",\n\t\tmarginBottom: \"0.5rem\",\n\t\tbackgroundColor: \"#fff\",\n\t},\n\tlistItemHover: {\n\t\tbackgroundColor: \"#e8f4ff\",\n\t},\n\tdocumentSection: {\n\t\tborder: \"1px solid #e0e0e0\",\n\t\tpadding: \"1rem 2rem\",\n\t\tborderRadius: \"8px\",\n\t\tmarginBottom: \"2rem\",\n\t},\n\tbutton: {\n\t\tpadding: \"8px 16px\",\n\t\tborder: \"1px solid #007bff\",\n\t\tbackgroundColor: \"#007bff\",\n\t\tcolor: \"white\",\n\t\tborderRadius: \"4px\",\n\t\tmarginBottom: \"1rem\",\n\t\ttransition: \"background-color 0.2s, border-color 0.2s\",\n\t},\n\tbuttonHover: {\n\t\tbackgroundColor: \"#0056b3\",\n\t\tborderColor: \"#0056b3\",\n\t},\n\tbuttonActive: {\n\t\tbackgroundColor: \"#28a745\",\n\t\tborderColor: \"#28a745\",\n\t},\n\tbaseTextHighlight: {\n\t\tborderRadius: \"3px\",\n\t\ttransition: \"background-color 0.2s ease-in-out\",\n\t\tscrollMarginTop: \"20px\",\n\t},\n};\n\n// --- THE MAIN COMPONENT ---\nexport const PolicyAnalyzer: React.FC = () => {\n\tconst [hoveredId, setHoveredId] = useState<string | null>(null);\n\tconst [clickedId, setClickedId] = useState<string | null>(null);\n\tconst [showAllUnique, setShowAllUnique] = useState(false);\n\tconst [showAllShared, setShowAllShared] = useState(false);\n\tconst [listHoveredId, setListHoveredId] = useState<string | null>(null);\n\tconst [hoveredButton, setHoveredButton] = useState<\n\t\t\"unique\" | \"shared\" | null\n\t>(null);\n\n\tconst { uniqueProperties, groupedSharedProperties, processedMarkdown } =\n\t\tuseMemo(() => parseMarkdownForProperties(rawMarkdown), []);\n\n\t// NEW: Generate a map of property IDs to specific highlight colors\n\tconst colorMap = useMemo(() => {\n\t\tconst newColorMap = new Map<string, string>();\n\t\tconst UNIQUE_HIGHLIGHT_COLOR = \"#FFF8C4\"; // A light, creamy yellow\n\n\t\t// Assign one color to all unique properties\n\t\tuniqueProperties.forEach((prop) => {\n\t\t\tnewColorMap.set(prop.id, UNIQUE_HIGHLIGHT_COLOR);\n\t\t});\n\n\t\t// Generate a gradient of colors for the shared property groups\n\t\tconst sharedGroupNames = Object.keys(groupedSharedProperties);\n\t\tconst sharedColors = generateGradient(sharedGroupNames.length); // Light blue to light pink gradient\n\n\t\t// Assign a unique color to each shared group\n\t\tsharedGroupNames.forEach((groupName, index) => {\n\t\t\tconst groupColor = sharedColors[index] || \"#E0E0E0\"; // Fallback grey\n\t\t\tgroupedSharedProperties[groupName]?.forEach((prop) => {\n\t\t\t\tnewColorMap.set(prop.id, groupColor);\n\t\t\t});\n\t\t});\n\n\t\treturn newColorMap;\n\t}, [uniqueProperties, groupedSharedProperties]);\n\n\tconst customComponents: Components = useMemo(() => {\n\t\tconst idRegex = /\\|\\|\\|ID:(.*?)\\|\\|\\|(.*)/s;\n\n\t\tconst processNode = (\n\t\t\tchildren: ReactNode\n\t\t): { id: string; cleanedChildren: ReactNode } | null => {\n\t\t\tconst childArray = React.Children.toArray(children);\n\t\t\tconst firstChild = childArray[0];\n\t\t\tif (typeof firstChild === \"string\") {\n\t\t\t\tconst match = firstChild.match(idRegex);\n\t\t\t\tif (match && match[1] !== undefined) {\n\t\t\t\t\tconst id = match[1]!;\n\t\t\t\t\tconst cleanedText = match[2];\n\t\t\t\t\treturn {\n\t\t\t\t\t\tid,\n\t\t\t\t\t\tcleanedChildren: [cleanedText, ...childArray.slice(1)],\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn null;\n\t\t};\n\n\t\tconst createRenderer = (Tag: \"p\" | \"li\") => (props: ElementProps) => {\n\t\t\tconst { children, ...rest } = props;\n\t\t\tconst processed = processNode(children);\n\n\t\t\tif (processed) {\n\t\t\t\tconst { id, cleanedChildren } = processed;\n\t\t\t\tconst isHighlighted =\n\t\t\t\t\thoveredId === id ||\n\t\t\t\t\tclickedId === id ||\n\t\t\t\t\t(showAllUnique && id.startsWith(\"unique\")) ||\n\t\t\t\t\t(showAllShared && id.startsWith(\"shared\"));\n\n\t\t\t\t// NEW: Get the specific highlight color for this ID\n\t\t\t\tconst highlightColor = colorMap.get(id);\n\n\t\t\t\tconst dynamicHighlightStyle =\n\t\t\t\t\tisHighlighted && highlightColor\n\t\t\t\t\t\t? {\n\t\t\t\t\t\t\t\t...styles.baseTextHighlight,\n\t\t\t\t\t\t\t\tbackgroundColor: highlightColor,\n\t\t\t\t\t\t  }\n\t\t\t\t\t\t: undefined;\n\n\t\t\t\treturn (\n\t\t\t\t\t<Tag\n\t\t\t\t\t\tid={id}\n\t\t\t\t\t\tstyle={dynamicHighlightStyle}\n\t\t\t\t\t\t{...rest}\n\t\t\t\t\t>\n\t\t\t\t\t\t{cleanedChildren}\n\t\t\t\t\t</Tag>\n\t\t\t\t);\n\t\t\t}\n\t\t\treturn <Tag {...rest}>{children}</Tag>;\n\t\t};\n\n\t\treturn {\n\t\t\tp: createRenderer(\"p\"),\n\t\t\tli: createRenderer(\"li\"),\n\t\t};\n\t}, [hoveredId, clickedId, showAllUnique, showAllShared, colorMap]); // Added colorMap dependency\n\n\tconst handleHighlightClick = (id: string) => {\n\t\tsetClickedId((prevId) => (prevId === id ? null : id));\n\t\tsetTimeout(() => {\n\t\t\tdocument\n\t\t\t\t.getElementById(id)\n\t\t\t\t?.scrollIntoView({ behavior: \"smooth\", block: \"center\" });\n\t\t}, 0);\n\t};\n\n\tconst uniqueButtonStyle = {\n\t\t...styles.button,\n\t\t...(hoveredButton === \"unique\" && styles.buttonHover),\n\t\t...(showAllUnique && styles.buttonActive),\n\t};\n\tconst sharedButtonStyle = {\n\t\t...styles.button,\n\t\t...(hoveredButton === \"shared\" && styles.buttonHover),\n\t\t...(showAllShared && styles.buttonActive),\n\t};\n\n\treturn (\n\t\t<div className=\"no-aos\">\n\t\t\t<div className=\"policy-analyzer-container\">\n\t\t\t\t<h1>Gemini Policy Analysis</h1>\n\t\t\t\t<div style={styles.propertiesSection}>\n\t\t\t\t\t<h3 style={styles.header}>Unique Properties</h3>\n\t\t\t\t\t<button\n\t\t\t\t\t\tstyle={uniqueButtonStyle}\n\t\t\t\t\t\tonMouseEnter={() => setHoveredButton(\"unique\")}\n\t\t\t\t\t\tonMouseLeave={() => setHoveredButton(null)}\n\t\t\t\t\t\tonClick={() => setShowAllUnique(!showAllUnique)}\n\t\t\t\t\t>\n\t\t\t\t\t\t{showAllUnique\n\t\t\t\t\t\t\t? \"Clear All Highlights\"\n\t\t\t\t\t\t\t: \"Highlight All Unique Lines\"}\n\t\t\t\t\t</button>\n\t\t\t\t\t<ul style={styles.list}>\n\t\t\t\t\t\t{uniqueProperties.map((prop) => {\n\t\t\t\t\t\t\tconst isListItemHovered = listHoveredId === prop.id;\n\t\t\t\t\t\t\tconst listItemStyle = {\n\t\t\t\t\t\t\t\t...styles.listItem,\n\t\t\t\t\t\t\t\t...(isListItemHovered && styles.listItemHover),\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t<li\n\t\t\t\t\t\t\t\t\tkey={prop.id}\n\t\t\t\t\t\t\t\t\tstyle={listItemStyle}\n\t\t\t\t\t\t\t\t\tonMouseEnter={() => {\n\t\t\t\t\t\t\t\t\t\tsetHoveredId(prop.id);\n\t\t\t\t\t\t\t\t\t\tsetListHoveredId(prop.id);\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\tonMouseLeave={() => {\n\t\t\t\t\t\t\t\t\t\tsetHoveredId(null);\n\t\t\t\t\t\t\t\t\t\tsetListHoveredId(null);\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\tonClick={() =>\n\t\t\t\t\t\t\t\t\t\thandleHighlightClick(prop.id)\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{prop.text}\n\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t})}\n\t\t\t\t\t</ul>\n\t\t\t\t</div>\n\t\t\t\t<div style={styles.documentSection}>\n\t\t\t\t\t<ReactMarkdown components={customComponents}>\n\t\t\t\t\t\t{processedMarkdown}\n\t\t\t\t\t</ReactMarkdown>\n\t\t\t\t</div>\n\t\t\t\t<div style={styles.propertiesSection}>\n\t\t\t\t\t<h3 style={styles.header}>Shared Properties</h3>\n\t\t\t\t\t<button\n\t\t\t\t\t\tstyle={sharedButtonStyle}\n\t\t\t\t\t\tonMouseEnter={() => setHoveredButton(\"shared\")}\n\t\t\t\t\t\tonMouseLeave={() => setHoveredButton(null)}\n\t\t\t\t\t\tonClick={() => setShowAllShared(!showAllShared)}\n\t\t\t\t\t>\n\t\t\t\t\t\t{showAllShared\n\t\t\t\t\t\t\t? \"Clear All Highlights\"\n\t\t\t\t\t\t\t: \"Highlight All Shared Lines\"}\n\t\t\t\t\t</button>\n\t\t\t\t\t{Object.entries(groupedSharedProperties).map(\n\t\t\t\t\t\t([policyName, props]) => (\n\t\t\t\t\t\t\t<div key={policyName}>\n\t\t\t\t\t\t\t\t<h4 style={styles.header}>{policyName}</h4>\n\t\t\t\t\t\t\t\t<ul style={styles.list}>\n\t\t\t\t\t\t\t\t\t{props.map((prop) => {\n\t\t\t\t\t\t\t\t\t\tconst isListItemHovered =\n\t\t\t\t\t\t\t\t\t\t\tlistHoveredId === prop.id;\n\t\t\t\t\t\t\t\t\t\tconst listItemStyle = {\n\t\t\t\t\t\t\t\t\t\t\t...styles.listItem,\n\t\t\t\t\t\t\t\t\t\t\t...(isListItemHovered &&\n\t\t\t\t\t\t\t\t\t\t\t\tstyles.listItemHover),\n\t\t\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t\t\t<li\n\t\t\t\t\t\t\t\t\t\t\t\tkey={prop.id}\n\t\t\t\t\t\t\t\t\t\t\t\tstyle={listItemStyle}\n\t\t\t\t\t\t\t\t\t\t\t\tonMouseEnter={() => {\n\t\t\t\t\t\t\t\t\t\t\t\t\tsetHoveredId(prop.id);\n\t\t\t\t\t\t\t\t\t\t\t\t\tsetListHoveredId(prop.id);\n\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t\tonMouseLeave={() => {\n\t\t\t\t\t\t\t\t\t\t\t\t\tsetHoveredId(null);\n\t\t\t\t\t\t\t\t\t\t\t\t\tsetListHoveredId(null);\n\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t\tonClick={() =>\n\t\t\t\t\t\t\t\t\t\t\t\t\thandleHighlightClick(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tprop.id\n\t\t\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t{prop.text}\n\t\t\t\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t)\n\t\t\t\t\t)}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t);\n};\n// Assuming the Page component exists for context\nconst ToolPage = () => (\n\t<Page\n\t\tpage={PolicyAnalyzer}\n\t\tbg={false}\n\t\tuseCursor={false}\n\t/>\n);\nexport default ToolPage;\n"],"names":["styles","propertiesSection","border","padding","marginBottom","borderRadius","backgroundColor","header","marginTop","color","list","listStyleType","paddingLeft","listItem","transition","listItemHover","documentSection","button","buttonHover","borderColor","buttonActive","baseTextHighlight","scrollMarginTop","PolicyAnalyzer","hoveredId","setHoveredId","useState","clickedId","setClickedId","showAllUnique","setShowAllUnique","showAllShared","setShowAllShared","listHoveredId","setListHoveredId","hoveredButton","setHoveredButton","uniqueProperties","groupedSharedProperties","processedMarkdown","useMemo","markdown","sharedProperties","uniqueCounter","sharedCounter","lines","split","processedLines","commentRegex","line","match","undefined","type","text","trim","newProperty","id","concat","push","sharedWith","j","length","_processedLines$j","replace","reduce","acc","prop","key","join","parseMarkdownForProperties","colorMap","newColorMap","Map","forEach","set","sharedGroupNames","Object","keys","sharedColors","generateGradient","groupName","index","_groupedSharedPropert","groupColor","customComponents","idRegex","createRenderer","Tag","props","children","rest","_objectWithoutProperties","_excluded","processed","childArray","React","toArray","firstChild","cleanedChildren","slice","processNode","isHighlighted","startsWith","highlightColor","get","dynamicHighlightStyle","_objectSpread","_jsx","style","p","li","handleHighlightClick","prevId","setTimeout","_document$getElementB","document","getElementById","scrollIntoView","behavior","block","uniqueButtonStyle","sharedButtonStyle","className","_jsxs","onMouseEnter","onMouseLeave","onClick","map","isListItemHovered","listItemStyle","ReactMarkdown","components","entries","_ref","policyName","ToolPage","Page","page","bg","useCursor"],"sourceRoot":""}